/* =====================================================
   LOGGED (Dashboard) — tema refinado e acessível
   Compatível com Leaflet no card "Locais que mergulhou"
===================================================== */

/* ---------- Tokens ---------- */
:root{
  --sidebar-w: 260px;
  --sidebar-w-sm: 78px;

  /* Cores base */
  --blue-900:#0a53cb;
  --blue-800:#0b69ff;
  --blue-700:#1e7cff;
  --blue-600:#3191ff;

  --ink-950:#0f172a;
  --ink-800:#1f2937;
  --ink-700:#334155;
  --ink-600:#64748b;
  --ink-500:#6b7280;
  --ink-400:#9aa3af;
  --ink-300:#cbd5e1;
  --ink-200:#e5e7eb;
  --ink-100:#f8fafc;

  --bg:#fff;
  --radius:14px;
  --radius-sm:10px;

  --shadow-1:0 2px 8px rgba(15,23,42,.08);
  --shadow-2:0 8px 24px rgba(15,23,42,.12);
  --ring:0 0 0 3px rgba(30,124,255,.22);

  /* Espaços */
  --gap-page:18px;
  --gap-grid:18px;
  --gap-grid-sm:12px;
}

/* ---------- Layout base ---------- */
.logged{
  min-height:100dvh;
  display:grid;
  grid-template-columns:var(--sidebar-w) 1fr;
  background:var(--bg);
  color-scheme: light;
}

/* ---------- Sidebar ---------- */
.logged__sidebar{
  position:sticky; top:0; height:100dvh;
  display:flex; flex-direction:column; gap:14px;
  padding:18px 14px;
  color:#fff;
  background:linear-gradient(180deg,#007FFF,#007FFF);
  box-shadow:inset 0 -1px 0 rgba(255,255,255,.06);
}
.logged__brand{ display:flex; align-items:center; justify-content:center; padding:6px 8px 2px; }
.logged__logoImg{ height:32px; width:auto; display:block; object-fit:contain; }

.logged__nav{ display:flex; flex-direction:column; gap:4px; margin-top:8px; }
.logged__item{
  position:relative; display:flex; align-items:center; gap:10px;
  padding:10px 12px; border-radius:10px; color:#eaf1ff; text-decoration:none;
  font-weight:700; letter-spacing:.1px; outline:none;
  transition:background .15s ease, transform .08s ease, color .15s ease, box-shadow .12s ease;
}
.logged__item .logged__icon{ width:20px; height:20px; object-fit:contain; }
.logged__item::before{
  content:""; position:absolute; inset:0 0 0 auto; left:-14px; width:3px; border-radius:8px;
  background:transparent; transition:background .2s ease, transform .2s ease;
}
.logged__item:hover{ background:rgba(255,255,255,.12); transform:translateY(-1px); }
.logged__item:focus-visible{ box-shadow:var(--ring); background:rgba(255,255,255,.12); }
.logged__item.active{ background:linear-gradient(180deg,rgba(255,255,255,.22),rgba(255,255,255,.14)); color:#fff; }
.logged__item.active::before{ background:#fff; transform:scaleY(.9); }

.logged__card{
  margin-top:auto; background:rgba(255,255,255,.12); border:1px solid rgba(255,255,255,.18);
  border-radius:var(--radius); padding:12px; box-shadow:var(--shadow-1);
}
.logged__cardMedia{
  width:100%; aspect-ratio:16/11; border-radius:var(--radius); overflow:hidden; display:grid; place-items:center;
  background:linear-gradient(180deg,rgba(255,255,255,.18),rgba(255,255,255,.08)); margin-bottom:10px;
}
.logged__cardMedia img{ width:86%; height:auto; object-fit:contain; }

.logged__primaryBtn{
  width:100%; display:inline-flex; align-items:center; justify-content:center; gap:8px;
  padding:10px 12px; border-radius:12px; background:#fff; color:var(--blue-800);
  font-weight:800; border:none; cursor:pointer; transition:transform .08s ease, box-shadow .12s ease, background .12s ease;
  box-shadow:0 2px 0 rgba(0,0,0,.06), 0 6px 16px rgba(0,0,0,.12);
}
.logged__primaryBtn:hover{ transform:translateY(-1px); box-shadow:0 2px 0 rgba(0,0,0,.06), 0 10px 22px rgba(0,0,0,.18); }

.logged__logout{
  margin-top:8px; display:flex; align-items:center; justify-content:center; gap:12px;
  padding:12px 16px; border-radius:12px; background:transparent; color:#eaf1ff; text-decoration:none;
  border:2px solid rgba(255,255,255,.25);
  transition:background .18s ease, color .18s ease, border-color .18s ease, box-shadow .18s ease, transform .08s ease;
}
.logged__logout .logged__icon{ width:22px; height:22px; filter:brightness(0) invert(1); }
.logged__logout:hover{ background:#dc3545; color:#fff; border-color:#dc3545; box-shadow:0 6px 16px rgba(220,53,69,.35); transform:translateY(-1px); }

/* ---------- Área de conteúdo ---------- */
.logged__content{
  min-height:100dvh;
  padding:var(--gap-page);
}
.logged__content .page{ max-width:1160px; margin:0 auto; }

/* ---------- Scrollbar ---------- */
.logged__sidebar::-webkit-scrollbar{ width:10px; }
.logged__sidebar::-webkit-scrollbar-thumb{ background:rgba(255,255,255,.25); border-radius:999px; }

/* ---------- Responsivo (sidebar) ---------- */
@media (max-width:980px){
  .logged{ grid-template-columns:var(--sidebar-w-sm) 1fr; }
  .logged__sidebar{ padding:18px 10px; }
  .logged__item span:last-child, .logged__logout span:last-child{ display:none; }
  .logged__item, .logged__logout{ justify-content:center; padding:10px; }
  .logged__logoImg{ height:26px; }
  .logged__card{ display:none; }
}

/* =====================================================
   Dashboard (conteúdo)
===================================================== */
.dash{ max-width:1120px; margin:0 auto; padding: 30px 60px; }
.dash__head{ margin-bottom:6px; }
.dash__title{ margin:0 0 4px; font-size:clamp(1.6rem,2.6vw,2.1rem); font-weight:800; color:var(--ink-950); }
.dash__sub{ margin:0; color:var(--ink-600); max-width:760px; }
.dash__sectionTitle{ margin:0 0 8px; font-size:1.05rem; font-weight:800; color:var(--ink-800); }
/* ===== Grid topo: Previsão × Mapa ===== */
.dash__grid{
  display:grid;
  grid-template-columns:1.25fr 1fr; /* clima | mapa */
  gap:var(--gap-grid);
  margin:8px 0 18px;
  grid-auto-flow:dense;
  justify-items:stretch;
  align-items:stretch; /* iguala a altura dos dois cards */
}
.dash__grid > *{ min-width:0; max-width:none; } /* evita shrink-to-fit */

@media (max-width:980px){
  .dash__grid{
    grid-template-columns:1fr;
    gap:var(--gap-grid-sm);
    margin:6px 0 14px;
  }
}

/* Card base */
.card{
  background:#fff; border:1px solid var(--ink-200);
  border-radius:12px; box-shadow:0 1px 2px rgba(0,0,0,.04);
  width:100%; box-sizing:border-box;
}

/* ===== Previsão ===== */
.weather{ height:100%; display:flex; flex-direction:column; }
.weather .dash__sectionTitle{ padding:10px 12px 0; }
.weather__box{ padding:10px 12px 12px; color:var(--ink-800); }

.weather__top{
  display:grid; grid-template-columns:auto 1fr auto;
  gap:6px 16px; align-items:start; margin-bottom:6px;
}
.weather__temp{ grid-row:1 / span 2; font-size:2rem; font-weight:800; color:var(--ink-800); }
.weather__place, .weather__cond{ display:inline-flex; align-items:center; gap:8px; color:var(--ink-700); }
.weather__topRight{ justify-self:end; }
.weather__iconBig svg{ width:28px; height:28px; stroke:#1d4ed8; fill:none; stroke-width:1.8; }

/* Grade dos dias — mais confortável */
.weather__week{
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(80px, 1fr));
  gap:8px;
  margin-top:10px; padding-top:10px; border-top:1px solid #eef2f7;
  justify-items:center;
}
.weather__day{
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  padding:8px 4px; background:#f9fafb; border-radius:10px;
  transition:background .2s ease, transform .1s ease;
}
.weather__day:hover{ background:#eff6ff; transform:translateY(-2px); }
.weather__d{ font-weight:700; color:#1e3a8a; margin-bottom:4px; }
.weather__i svg{ width:28px; height:28px; stroke:#2563eb; fill:none; stroke-width:1.8; }
.weather__t{ font-weight:700; margin-top:4px; }
.weather__t small{ color:var(--ink-600); font-weight:600; }

@media (max-width:720px){
  .weather__week{ grid-template-columns:repeat(auto-fit, minmax(70px,1fr)); gap:6px; }
}

/* ===== Mapa + busca (Leaflet) ===== */
.places{ height:100%; display:flex; flex-direction:column; }
.places .dash__sectionTitle{ margin-bottom:8px; }

/* Altura do mapa (mais alto) */
.places__map{
  position:relative;
  flex:1 1 auto;
  height:clamp(320px, 42vh, 560px) !important; /* cresce bem em telas médias */
  min-height:320px;
  border:1px solid var(--ink-200);
  border-radius:12px;
  overflow:hidden;
  background:#f8fafc;
  margin-top:8px; /* não colar no título */
}
@media (min-width:1280px){
  .places__map{ height:clamp(380px, 46vh, 640px) !important; min-height:380px; }
}

/* Leaflet ocupa 100% */
.places__map .leaflet-container{ width:100%; height:100%; font-family:inherit; }

/* Controles Leaflet */
.places__map .leaflet-control-zoom a{ border-radius:8px; box-shadow:0 1px 2px rgba(0,0,0,.08); }
.places__map .leaflet-control-zoom a:hover{ background:#f3f4f6; }
.places__map .leaflet-control-attribution{
  background:rgba(255,255,255,.9); border-radius:8px; padding:2px 6px; color:#6b7280;
}

/* Popup */
.places__map .leaflet-popup-content-wrapper{
  border-radius:12px; box-shadow:0 10px 24px rgba(15,23,42,.18); border:1px solid #e5e7eb;
}
.places__map .leaflet-popup-tip{ background:#fff; border:1px solid #e5e7eb; }
.places__map .leaflet-popup-content{ margin:10px 12px; color:#111827; }
.places__map .leaflet-container a{ color:var(--blue-700); }

/* Marcadores */
.places__map .leaflet-marker-icon{ filter:drop-shadow(0 2px 4px rgba(0,0,0,.25)); }

/* Desativa estilos do mapa estático legado */
.places__mapImg, .pin{ display:none !important; }

/* Busca */
.places__search{
  display:grid; grid-template-columns:1fr auto; gap:8px; margin-top:8px;
}
.search__input{
  display:flex; align-items:center; gap:8px; height:38px; padding:0 10px;
  border:1px solid #d1d5db; border-radius:10px; background:#fff; color:#111827;
  transition:box-shadow .12s ease, border-color .12s ease;
}
.search__input:focus-within{ border-color:var(--blue-700); box-shadow:var(--ring); }
.search__input input{ border:none; outline:none; flex:1 1 auto; font:inherit; }
.search__input input::placeholder{ color:#9aa3af; }
.search__btn{
  width:42px; height:38px; border:none; border-radius:10px; background:var(--blue-700); color:#fff; cursor:pointer; font-size:18px;
  transition:transform .08s ease, box-shadow .12s ease, background .12s ease;
}
.search__btn:hover{ transform:translateY(-1px); box-shadow:0 8px 18px rgba(30,124,255,.28); }

/* ===== Tabela últimos mergulhos ===== */
.dives .table{ border:1px solid var(--ink-200); border-radius:12px; overflow:hidden; background:#fff; }
.table__head, .table__row{ display:grid; grid-template-columns:1.2fr .8fr 1fr 1fr; align-items:center; }
.table__head{
  background:#f3f4f6; color:#111827; font-weight:800; padding:12px 16px; border-bottom:1px solid var(--ink-200);
}
.table__row{
  min-height:56px; padding:0 16px; border-bottom:1px solid #eef2f7; transition:background .12s ease;
}
.table__row:hover{ background:#f9fafb; }
.table__row:last-child{ border-bottom:none; }
.u-right{ text-align:right; }

/* paginação */
.pager{ display:flex; gap:8px; justify-content:center; align-items:center; padding:10px 0 2px; }
.pager button{
  width:28px; height:28px; border-radius:999px; border:1px solid #d1d5db; background:#fff; cursor:pointer; font-size:16px; line-height:1;
  transition:background .12s ease, transform .08s ease, box-shadow .12s ease;
}
.pager button:hover{ background:#f8fafc; transform:translateY(-1px); }

/* Acessibilidade & movimento reduzido */
@media (prefers-reduced-motion: reduce){
  .logged__item:hover,
  .logged__primaryBtn:hover,
  .logged__logout:hover,
  .search__btn:hover,
  .table__row:hover,
  .pager button:hover{
    transform:none; box-shadow:none;
  }
}
